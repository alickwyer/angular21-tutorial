<!-- <div class="flex gap-2 bg-amber-600 p-2">
  <button matButton="filled">Basic</button>
  <button matButton="filled">Basci</button>
</div> -->

<table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
  <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef>日期</th>
    <td mat-cell *matCellDef="let element">
      {{ element.date | date : 'yyyy年MM月dd日' }}
    </td>
  </ng-container>

  <ng-container matColumnDef="category">
    <th mat-header-cell *matHeaderCellDef>类别</th>
    <td mat-cell *matCellDef="let element">{{ element.category }}</td>
  </ng-container>

  <ng-container matColumnDef="amount">
    <th mat-header-cell *matHeaderCellDef>金额</th>
    <td
      mat-cell
      *matCellDef="let element"
      [ngClass]="{ income: element.amount > 0, expense: element.amount < 0 }"
    >
      @if (element.amount >= 0) {
      {{ element.amount | currency : 'CNY' : 'symbol-narrow' : '1.2-2' }}
      } @else { ({{ -element.amount | currency : 'CNY' : 'symbol-narrow' : '1.2-2' }}) }
    </td>
  </ng-container>

  <ng-container matColumnDef="accountName">
    <th mat-header-cell *matHeaderCellDef>金额</th>
    <td mat-cell *matCellDef="let element">{{ element.accountName }}</td>
  </ng-container>

  <ng-container matColumnDef="note">
    <th mat-header-cell *matHeaderCellDef>备注</th>
    <td mat-cell *matCellDef="let element">{{ element.note }}</td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef>操作</th>
    <td mat-cell *matCellDef="let element" class="actions-cell">
      <button mat-icon-button color="primary" (click)="onEdit(element)">
        <mat-icon>edit</mat-icon>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    mat-row
    *matRowDef="let row; columns: displayedColumns"
    [class.future]="isFuture(row.date)"
    class="data-row"
  ></tr>
</table>
